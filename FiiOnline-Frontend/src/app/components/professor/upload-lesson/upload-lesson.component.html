<app-sidebar></app-sidebar>

<div class="content row">
  <div class="card col s8 offset-s2">
    <div class="center-align">
      <h1 [hidden]="onEdit" class="title"> Upload material</h1>
      <h1 [hidden]="!onEdit" class="title"> Edit material</h1>
    </div>
    <form method="post" #uploadLessonForm="ngForm">


      <div class="row">
        <div class="input-field col s12">
          <input type="text" name="title" [(ngModel)]="model.title" #title="ngModel">
          <label [class.active]="title.value">Lesson</label>
        </div>
      </div>

      <div class="row">
        <p class="editor-label">Description</p>
        <div class="editor">
          <app-ngx-editor [placeholder]="'Enter text here...'" [toolbar]="toolbar" [minHeight]="2"   [spellcheck]="true" [(ngModel)]="model.description"
                          name="description"></app-ngx-editor>
        </div>

      </div>
      <div class="row">
        <div class="col s12 radio">
          <p>This is a:</p>
          <input [disabled]="lectureExists" class="with-gap" name="group1" type="radio" id="Lecture"
                 (click)="setType('Lecture')"/>
          <label for="Lecture">Lecture</label>

          <input [disabled]="seminarExists" class="with-gap" name="group1" type="radio" id="Seminar"
                 (click)="setType('Seminar')"/>
          <label for="Seminar">Seminar</label>

          <input [disabled]="homeworkExists" class="with-gap" name="group1" type="radio" id="Homework"
                 (click)="setType('Homework')"/>
          <label for="Homework">Homework</label>
        </div>

      </div>


      <div class="row">
        <div id="panel-body" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">
          <div class="upload-drop-zone" [class.drop-zone-hover]="mouseOvered" id="drop-zone"
               (mouseover)="mouseOvered=true" (mouseout)="mouseOvered=false">
            <i class="fas fa-cloud-upload-alt upload-icon"></i>
            <label class="on-click-upload">
              <input type="file" (change)="onDrop($event)">
              <strong>Choose a file</strong>
              <span> or drag it here</span>
            </label>
          </div>

        </div>
      </div>

      <div class="row" id="display-uploaded-files">

      </div>

      <div class="row center-align">

        <button class="btn waves-effect waves-light" type="submit" name="action" (click)="onSubmit()"
                [disabled]="!uploadLessonForm.valid">
          Submit
        </button>

      </div>

    </form>
  </div>
</div>

<!-- Modal Structure -->
<div id="modal1" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]"
     [materializeActions]="modalActions">
  <div *ngIf="onDelete" class="modal-content">
    <h4>Delete file</h4>
    <hr>
    <br>
    <p>Are you sure you want to delete {{fileName}}?</p>
    <button class="btn waves-effect waves-light" name="close" (click)="closeModal()">
      Cancel
    </button>
    <button class="btn waves-effect waves-light" name="delete" (click)="deleteFile()">
      Yes, delete it!
    </button>
  </div>

  <div *ngIf="!onDelete" class="modal-content">
    <h4>{{modalHeader}}</h4>
    <hr>
    <br>
    <p>{{modalText}}</p>
  </div>

</div>




